<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Subst by msztolcman</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Subst</h1>
        <p class="header">Search and des... argh... replace in many files at once. Use regexp and power of Python to replace what you want.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/msztolcman/subst/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/msztolcman/subst/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/msztolcman/subst">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/msztolcman">msztolcman</a></p>


      </header>
      <section>
        <h1>
<a id="subst" class="anchor" href="#subst" aria-hidden="true"><span class="octicon octicon-link"></span></a>subst</h1>

<p><code>subst</code> is simple utility to replace one string into another in given list of files.</p>

<h2>
<a id="current-stable-version" class="anchor" href="#current-stable-version" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current stable version</h2>

<p>0.4.0</p>

<h2>
<a id="but-why" class="anchor" href="#but-why" aria-hidden="true"><span class="octicon octicon-link"></span></a>But why?</h2>

<ol>
<li>
<p>There is <code>sed</code> for example?</p>

<p>Yes, it is. But <code>sed</code> use regexps engine called "Basic Regular Expressions", or "Extended
Regular Expression". PCRE is much more widely used dialect.</p>
</li>
<li>
<p>So I can use Perl!</p>

<p>Of course you can. But not everyone know how to use Perl. I know, but <code>subst</code> is IMHO
simpler to use.</p>
</li>
</ol>

<h2>
<a id="ok-so-how-to-use-it" class="anchor" href="#ok-so-how-to-use-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>OK, so how to use it?</h2>

<h2>
<a id="simple" class="anchor" href="#simple" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simple</h2>

<pre><code>echo 'Hello World!' | subst -s 's/Hello/Hi/' -
</code></pre>

<p>or:</p>

<pre><code>subst -p '(192\.168)\.1\.(10)' -r '\1.0.\2' /etc/hosts
</code></pre>

<h2>
<a id="more" class="anchor" href="#more" aria-hidden="true"><span class="octicon octicon-link"></span></a>More</h2>

<p>Everything is in help :) Just execute:</p>

<pre><code>subst --help
</code></pre>

<p>Look at result:</p>

<pre><code>% subst --help
usage: subst [-h] [-p PATTERN] [-r REPLACE] [--eval-replace] [-t STRING]
             [-s "s/PAT/REP/gixsm"] [-c COUNT] [-l] [-i] [--pattern-dot-all]
             [--pattern-verbose] [--pattern-multiline] [--utf8]
             [--encoding-input ENCODING_INPUT] [--encoding-file ENCODING_FILE]
             [--encoding-filesystem ENCODING_FILESYSTEM] [-b] [-e EXT]
             [--stdin] [--stdout] [--verbose] [--debug] [-v]
             [files [files ...]]

Replace PATTERN with REPLACE in many files.

positional arguments:
  files                 file to parse.

optional arguments:
  -h, --help            show this help message and exit
  -p PATTERN, --pattern PATTERN
                        pattern to replace for. Supersede --pattern-and-
                        replace. Required if --replace is specified.
  -r REPLACE, --replace REPLACE
                        replacement. Supersede --pattern-and-replace. Required
                        if --pattern is specified.
  --eval-replace        if specified, make eval data from --replace(should be
                        valid Python code). Ignored with --pattern-and-replace
                        argument.
  -t STRING, --string STRING
                        if specified, treats --pattern as string, not as
                        regular expression. Ignored with --pattern-and-replace
                        argument.
  -s "s/PAT/REP/gixsm", --pattern-and-replace "s/PAT/REP/gixsm", --pattern-and-replace "s/PAT/REP/gixsm"
                        pattern and replacement in one:
                        s/pattern/replace/g(pattern is always regular
                        expression, /g is optional and stands for --count=0,
                        /i == --ignore-case, /s == --pattern-dot-all, /m ==
                        --pattern-multiline).
  -c COUNT, --count COUNT
                        make COUNT replacements for every file (0 makes
                        unlimited changes, default).
  -l, --linear          apply pattern for every line separately. Without this
                        flag whole file is read into memory.
  -i, --ignore-case     ignore case of characters when matching
  --pattern-dot-all     with this flag, dot(.) character in pattern match also
                        new line character (see:
                        http://docs.python.org/2/library/re.html#re.DOTALL).
  --pattern-verbose     with this flag pattern can be passed as verbose(see:
                        http://docs.python.org/2/library/re.html#re.VERBOSE).
  --pattern-multiline   with this flag pattern can be passed as multiline(see:
                        http://docs.python.org/2/library/re.html#re.MULTILINE)
                        .
  --utf8, -u            Use UTF-8 in --encoding-input, --encoding-file and
                        --encoding-filesystem
  --encoding-input ENCODING_INPUT
                        set encoding for parameters like --pattern etc
                        (default for your system: utf-8)
  --encoding-file ENCODING_FILE
                        set encoding for content of processed files (default
                        for your system: utf-8)
  --encoding-filesystem ENCODING_FILESYSTEM
                        set encoding for paths and filenames (default for your
                        system: utf-8)
  -b, --no-backup       disable creating backup of modified files.
  -e EXT, --backup-extension EXT
                        extension for backup files(ignore if no backup is
                        created), without leading dot. Defaults to: "bak".
  --stdin               read data from STDIN(implies --stdout)
  --stdout              output data to STDOUT instead of change files in-
                        place(implies --no-backup)
  --verbose             show files and how many replacements was done
  --debug               show more informations
  -v, --version         show program's version number and exit

Miscellaneous notes:
* regular expressions engine used here is PCRE, dialect from Python
* is required to pass either --pattern and -replace, or --pattern-and-
  replace argument
* if pattern passed to --pattern-and-replace has /g modifier, it
  overwrites --count value
* if neither /g modifier nor --count argument is passed, assume that
  --count is equal 1
* if only --count is given, this value is used
* if --eval-replace is given, --replace must be valid Python code, where
  can be used m variable. m holds MatchObject instance (see:
  http://http://docs.python.org/2/library/re.html#match-objects, for
  example:
    --eval-replace --replace 'm.group(1).lower()'
* regular expressions with non linear search read whole file to yours
  computer memory - if file size is bigger then you have memory in your
  computer, it fails
* parsing expression passed to --pattern-and-replace argument is very
  simple - if you use / as delimiter, then in your expression can't be
  used this character anymore. If you need to use same character as
  delimiter and in expression, then better use --pattern and --replace
  argument

Security notes:
* be carefull with --eval-replace argument. When it's given, value
  passed to --replace is eval-ed, so any not safe code will be executed!

Author:
Marcin Sztolcman &lt;marcin@urzenia.net&gt; // http://urzenia.net

HomePage:
http://msztolcman.github.io/subst/
</code></pre>

<h2>
<a id="some-examples" class="anchor" href="#some-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Some examples?</h2>

<p>Simple replace word 'Hello' with 'Hi' in data read from STDIN:</p>

<pre><code>echo 'Hello World!' | subst -s 's/Hello/Hi/' -
</code></pre>

<p>Replace every IP address in form: 192.168.1.X (where X is few digits - single octet)
with 192.168.0.X in <code>/etc/hosts</code>:</p>

<pre><code>subst -p '(192\.168)\.1\.(10)' -r '\1.0.\2' /etc/hosts
</code></pre>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p><code>subst</code> should work on any platform where <a href="http://python.org">Python</a> is available, it means Linux, Windows, MacOS X etc. There is no dependencies, plain Python power :)</p>

<p>To install, go to <a href="https://github.com/msztolcman/subst/releases">GitHub releases</a>, download newest release, unpack and put somewhere in <code>PATH</code> (ie. <code>~/bin</code> or <code>/usr/local/bin</code>).</p>

<p>If You want to install newest unstable version, then just copy file to your PATH, for example:</p>

<pre><code>curl https://raw.github.com/msztolcman/subst/master/subst.py &gt; /usr/local/bin/subst
</code></pre>

<p>or:</p>

<pre><code>wget https://raw.github.com/msztolcman/subst/master/subst.py -O /usr/local/bin/subst
</code></pre>

<p>Voila!</p>

<h2>
<a id="authors" class="anchor" href="#authors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors</h2>

<p>Marcin Sztolcman <a href="mailto:marcin@urzenia.net">marcin@urzenia.net</a></p>

<h2>
<a id="contact" class="anchor" href="#contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contact</h2>

<p>If you like or dislike this software, please do not hesitate to tell me about this me via email (<a href="mailto:marcin@urzenia.net">marcin@urzenia.net</a>).</p>

<p>If you find bug or have an idea to enhance this tool, please use GitHub's <a href="https://github.com/msztolcman/subst/issues">issues</a>.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>The MIT License (MIT)</p>

<p>Copyright (c) 2013 Marcin Sztolcman</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

<h2>
<a id="changelog" class="anchor" href="#changelog" aria-hidden="true"><span class="octicon octicon-link"></span></a>ChangeLog</h2>

<h3>
<a id="v050" class="anchor" href="#v050" aria-hidden="true"><span class="octicon octicon-link"></span></a>v0.5.0</h3>

<ul>
<li>many improvements to handling different encodings</li>
<li>improvements to pylintrc, Makefile</li>
<li>config for tox</li>
<li>many refactorings</li>
</ul>

<h3>
<a id="v040" class="anchor" href="#v040" aria-hidden="true"><span class="octicon octicon-link"></span></a>v0.4.0</h3>

<ul>
<li>PEP8 improvements (coding style)</li>
<li>Makefile added</li>
<li>improved pylintrc</li>
</ul>

<h3>
<a id="v031" class="anchor" href="#v031" aria-hidden="true"><span class="octicon octicon-link"></span></a>v0.3.1</h3>

<ul>
<li>prepared and uploaded to PYPI </li>
<li>typos and editorials</li>
</ul>

<h3>
<a id="v03" class="anchor" href="#v03" aria-hidden="true"><span class="octicon octicon-link"></span></a>v0.3</h3>

<ul>
<li>better handling of non-ascii encoding in files, patterns etc</li>
<li>higher priority for --pattern-* switches then modifiers in --pattern-and-replace</li>
<li>unified switches syntax (was --pattern_and_replace, but other switches used dashes)</li>
<li>pep8</li>
<li>typos and editorials</li>
</ul>

<h3>
<a id="v02" class="anchor" href="#v02" aria-hidden="true"><span class="octicon octicon-link"></span></a>v0.2</h3>

<ul>
<li>second public version</li>
</ul>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-207617-22");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
